<template name="licenses">
    <div class="dapp-flex-content">
        <main class="dapp-content">
            <h1><strong>Licenses</strong></h1>
            <table class="dapp-zebra">
                <tbody>
                {{#each licenses}}
                    {{> licenseRow}}
                {{/each}}
                </tbody>
            </table>
            {{#if revokedLicenses}}
                <h2>Revoked licenses</h2>
                <table class="dapp-zebra">
                    <tbody>
                    {{#each revokedLicenses}}
                        {{> licenseRow}}
                    {{/each}}
                    </tbody>
                </table>
            {{/if}}
        </main>
    </div>
</template>

<template name="licenseRow">
    <tr>
        <td><strong>{{description}}</strong></td>
        <td>
            <span title="Licenses owned by you">{{balance}}</span>
            {{#if reclaimableBalance}}
                <span title="Licenses given to you that may be reclaimed by the original owner">
                (+{{reclaimableBalance}})
                </span>
            {{/if}}
        </td>
        {{#if revoked}}
            <td></td>
        {{else}}
            <td><a href="/transfer/from/{{maxBalanceAddress}}/licenseContract/{{licenseContract}}/issuance/{{issuanceID}}"><i class="icon-arrow-up"></i> Transfer</a></td>
        {{/if}}
        <td><a class="showCertificate" href="#"><i class="icon-doc"></i> Certificate</a></td>
        <td><a class="showHistory" href="#"><i class="icon-graph"></i> History</a></td>
    </tr>
</template>

<template name="licenseCertificate">
    <p class="certificateText">
        {{#each certificateText}}
            {{this}}<br>
        {{/each}}
    </p>
    <div class="dapp-modal-buttons">
        <button class="dapp-primary-button hideModal">OK</button>
    </div>
</template>

<template name="licenseHistory">
    <canvas id="graphContainer"></canvas>
    <div class="dapp-modal-buttons">
        <button class="dapp-primary-button hideModal">OK</button>
    </div>
</template>