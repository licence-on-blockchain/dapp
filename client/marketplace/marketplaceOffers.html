<template name="marketplaceOffers">
    <div class="dapp-flex-content" id="marketplaceOffers">
        <main class="dapp-content">
            <h1>{{{_ "marketplaceOffers.title" }}}</h1>
            <form>
                <input name="search" id="search" type="text" title="{{_ "marketplaceOffers.input.search.description"}}" placeholder="{{_ "marketplaceOffers.input.search.title"}}">
                <p><a href="#" id="showMyOffers">{{_ "marketplaceOffers.button.showMyOffers"}}</a></p>
            </form>
            <table class="dapp-zebra">
                <tbody>
                {{#each offers}}
                    {{> marketplaceOffer}}
                {{else}}
                    {{#if search}}
                        <tr><td><strong>{{_ "marketplaceOffers.noOffersMatchingSearch" search=search}}</strong></td></tr>
                    {{else}}
                        <tr><td><strong>{{_ "marketplaceOffers.noOffers"}}</strong></td></tr>
                    {{/if}}
                {{/each}}
                </tbody>
            </table>
        </main>
    </div>
</template>

<template name="marketplaceOffer">
    <tr class="offerRow clickable">
        <td><strong>{{description}}</strong></td>
        <td>
            {{amount}}
            {{#if soldSeparately}}
            {{else}}
                {{_ "marketplaceOffers.onlyAsBatch"}}
            {{/if}}
        </td>
        <td>
            <strong>
                {{price}} â‚¬
                {{#if negotiable}}
                    {{_ "marketplaceOffers.negotiable"}}
                {{/if}}
            </strong>
        </td>
        {{#if offeredByCurrentUser}}
            <td>
                <a href="/marketplace/offer/{{licenseContract}}/{{issuanceNumber}}/seller/{{seller}}" class="editOffer"><i class="icon-pencil"></i> {{_ "marketplaceOffers.editOffer"}}</a>
            </td>
        {{else}}
            <td>
                <a href="/marketplace/contact/{{seller}}/issuance/{{licenseContract}}/{{issuanceNumber}}" class="contactSeller"><i class="icon-envelope"></i> {{_ "marketplaceOffers.contactSeller"}}</a>
            </td>
        {{/if}}
    </tr>
</template>
