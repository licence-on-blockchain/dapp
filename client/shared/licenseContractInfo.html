<template name="licenseContractInfo">
    <div class="dapp-modal">
        <h1>{{_ "licenseContractInfo.title"}}</h1>
        <h2 class="address">{{address}}</h2>

        {{#if certificateValidationError}}
            <h3>{{_ "issuanceInfo.heading.warning"}}</h3>
            <p class="lob-error-message">{{certificateValidationError}}</p>
        {{/if}}
        
        <h3>{{_ "licenseContractInfo.heading.details"}}</h3>
        {{> licenseContractDetails}}

        <h3>{{_ "licenseContractInfo.heading.issuances"}}</h3>
        <table class="dapp-zebra">
            <tbody>
            {{#each issuances}}
                <tr>
                    <td><a href="#" class="showIssuanceInfo"><strong>{{issuanceNumber}}</strong></a></td>
                    <td>{{description}}</td>
                </tr>
            {{else}}
                <tr>
                    <td><strong>{{_ "licenseContractInfo.no_issuances"}}</strong></td>
                </tr>
            {{/each}}
            </tbody>
        </table>

        <h3>{{_ "licenseContractInfo.heading.certificateText"}}</h3>
        <p>
        {{#each certificateText}}
            {{this}}<br>
        {{/each}}
        </p>

        <div class="dapp-modal-buttons">
            <button class="dapp-primary-button hideModal">{{_ "generic.OK"}}</button>
        </div>
    </div>
</template>

<template name="licenseContractDetails">
    <table class="dapp-zebra">
        <tbody>
        <tr>
            <td><strong>{{_ "licenseContractInfo.field.internalName"}}</strong></td>
            <td><span contenteditable="true" class="internalName"></span></td>
        </tr>
        <tr>
            <td><strong>{{_ "licenseContractInfo.field.issuerName"}}</strong></td>
            <td>{{issuerName}}</td>
        </tr>
        <tr>
            <td><strong>{{_ "licenseContractInfo.field.issuerAddress"}}</strong></td>
            <td><a href="#" class="showIssuerAccountInfo">{{> dapp_address address=issuerAddress}}</a></td>
        </tr>
        <tr>
            <td><strong>{{_ "licenseContractInfo.field.signed"}}</strong></td>
            <td>
                {{#if signed}}
                    {{_ "generic.yes"}}
                {{else}}
                    {{_ "generic.no"}}
                {{/if}}
            </td>
        </tr>
        <tr>
            <td><strong>{{_ "licenseContractInfo.field.issuanceFee"}}</strong></td>
            <td>{{issuanceFee}} Ether</td>
        </tr>
        <tr>
            <td><strong>{{_ "licenseContractInfo.field.rootContract"}}</strong></td>
            <td>{{> dapp_address address=rootContract}}</td>
        </tr>
        <tr>
            <td><strong>{{_ "licenseContractInfo.field.disabled"}}</strong></td>
            <td>
                {{#if disabled}}
                    {{_ "generic.yes"}}
                {{else}}
                    {{_ "generic.no"}}
                {{/if}}
            </td>
        </tr>
        <tr>
            <td><strong>{{_ "licenseContractInfo.field.managerAddress"}}</strong></td>
            <td>
                {{#if managerAddress}}
                    {{> dapp_address address=managerAddress}}
                {{else}}
                    â€“
                {{/if}}
            </td>
        </tr>
        </tbody>
    </table>
</template>
