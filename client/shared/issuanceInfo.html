<template name="issuanceInfo">
    <div class="dapp-modal">
        <h1>{{description}}</h1>
        <h2>{{code}}</h2>
        {{#if certificateValidationError}}
            <h3>{{_ "issuanceInfo.heading.warning"}}</h3>
            <p class="lob-error-message">{{certificateValidationError}}</p>
        {{/if}}
        {{#if offers}}
            <h3>{{_ "issuanceInfo.heading.forSale"}}</h3>
            {{#each offers}}
                {{> forSaleOffer}}
            {{/each}}
        {{/if}}
        <h3>{{_ "issuanceInfo.heading.details"}}</h3>
        <table class="dapp-zebra">
            <tbody>
            <tr>
                <td><strong>{{_ "issuanceInfo.field.internalComment"}}</strong></td>
                <td><span contenteditable="true" class="internalComment"></span></td>
            </tr>
            <tr>
                <td><strong>{{_ "issuanceInfo.field.licenseContractAddress"}}</strong></td>
                <td><a href="#" class="showLicenseContractInfo">{{> dapp_address address=licenseContract}}</a></td>
            </tr>
            <tr>
                <td><strong>{{_ "issuanceInfo.field.issuerName"}}</strong></td>
                <td>{{issuerName}}</td>
            </tr>
            <tr>
                <td><strong>{{_ "issuanceInfo.field.issuanceNumber"}}</strong></td>
                <td>{{issuanceNumber}}</td>
            </tr>
            <tr>
                <td><strong>{{_ "issuanceInfo.field.originalSupply"}}</strong></td>
                <td>{{originalSupply}}</td>
            </tr>
            <tr>
                <td><strong>{{_ "issuanceInfo.field.auditTime"}}</strong></td>
                <td>{{auditTime}}</td>
            </tr>
            <tr>
                <td><strong>{{_ "issuanceInfo.field.auditRemark"}}</strong></td>
                <td>{{auditRemark}}</td>
            </tr>
            <tr>
                <td><strong>{{_ "issuanceInfo.field.revoked"}}</strong></td>
                <td>
                    {{#if revoked}}
                        {{_ "generic.yes"}}
                    {{else}}
                        {{_ "generic.no"}}
                    {{/if}}
                </td>
            </tr>
            {{#if revoked}}
                <tr>
                    <td><strong>{{_ "issuanceInfo.field.revocationReason"}}</strong></td>
                    <td>
                        {{revocationReason}}
                    </td>
                </tr>
            {{/if}}
            </tbody>
        </table>

        {{#if balances}}
            <h3>{{_ "issuanceInfo.heading.balances"}}</h3>
            <table class="dapp-zebra">
                <tbody>
                {{#each balances}}
                    <tr class="balanceRow clickable">
                        <td><strong>{{> dapp_address address=address italic=false}}</strong></td>
                        <td>{{balance}}</td>
                    </tr>
                {{/each}}
                </tbody>
            </table>
        {{/if}}
    </div>

    <div class="dapp-modal-buttons">
        <button class="showCertificate">{{_ "issuanceInfo.button.showCertificate"}}</button>
        <button class="showTransferHistory">{{_ "issuanceInfo.button.showTransferHistory"}}</button>
        <button class="dapp-primary-button hideModal">{{_ "generic.OK"}}</button>
    </div>
</template>

<template name="forSaleOffer">
    <table class="dapp-zebra">
        <tbody>
        <tr>
            <td><strong>{{_ "issuanceInfo.forSale.field.seller"}}</strong></td>
            <td>
                <a href="#" class="showSeller">{{> dapp_address address=seller}}</a>
            </td>
        </tr>
        <tr>
            <td><strong>{{_ "issuanceInfo.forSale.field.amount"}}</strong></td>
            <td>
                {{amount}}
                {{#if soldSeparately}}
                {{else}}
                    {{_ "issuanceInfo.forSale.onlyAsBatch"}}
                {{/if}}
            </td>
        </tr>
        <tr>
            <td><strong>{{_ "issuanceInfo.forSale.field.price"}}</strong></td>
            <td>
                {{price}} â‚¬
                {{#if negotiable}}
                    {{_ "issuanceInfo.forSale.negotiable"}}
                {{/if}}
            </td>
        </tr>
        </tbody>
    </table>
    <a href="/marketplace/contact/{{seller}}/issuance/{{licenseContract}}/{{issuanceNumber}}" class="contactSeller"><i class="icon-envelope"></i> {{_ "issuanceInfo.forSale.contactSeller"}}</a>
</template>
