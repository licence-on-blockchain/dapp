<template name="managedLicenseContractList">
    <div class="dapp-flex-content">
        <main class="dapp-content">
            <h1>{{{_ "managedLicenseContractList.title"}}}</h1>
            <table class="dapp-zebra">
                <tbody>
                {{#each licenseContracts}}
                    {{> licenseContractRow}}
                {{/each}}
                </tbody>
            </table>
            <h2>{{_ "managedLicenseContractList.heading.latestTransactions"}}</h2>
            <table class="dapp-zebra">
                <tbody>
                {{#each latestLicenseContractCreations}}
                    {{> pendingTransactionRow}}
                {{/each}}
                </tbody>
            </table>
            <button class="dapp-block-button createLicenseContract">
                {{{_ "managedLicenseContractList.button.createLicenseContract"}}}
            </button>
        </main>
    </div>
</template>

<template name="licenseContractRow">
    <tr class="clickable">
        <td>
            <strong>{{> dapp_identicon identity=address class="dapp-tiny"}} {{name}}</strong>
        </td>
        <td class="buttonColumn">
            {{#if signed}}
                <a href="/licensecontracts/issue/{{address}}"><i class="icon-plus"></i> {{_ "managedLicenseContractList.button.issue"}}</a>
            {{else}}
                <a href="/licensecontracts/sign/{{address}}"><i class="icon-pencil"></i> {{_ "managedLicenseContractList.button.sign"}}</a>
            {{/if}}
        </td>
        <td class="buttonColumn">
            {{#if signed}}
                <a href="/licensecontracts/manage/{{address}}"><i class="icon-pencil"></i> {{_ "managedLicenseContractList.button.manage"}}</a>
            {{/if}}
        </td>
    </tr>
</template>