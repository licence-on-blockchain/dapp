<template name="reclaim">
    <div class="dapp-flex-content">
        <main class="dapp-content">
            <form id="form-transfer">
                <h1>
                    <strong>Reclaim</strong> licenses
                </h1>
                <div class="row clear">
                    <div class="col col-6 mobile-full">
                        <h4>To</h4>
                        {{> dapp_selectAccount accounts=myAccounts class="reclaimer" name="reclaimer"}}
                        <div class="lob-error-message" data-for="reclaimer"></div>
                    </div>
                    <div class="col col-6 mobile-full">
                        <h4>From</h4>
                        <select name="from" title="Account to reclaim license from">
                            {{#each reclaimOrigins}}
                                {{> reclaimOriginOption}}
                            {{/each}}
                        </select>
                        <div class="lob-error-message" data-for="from"></div>
                    </div>
                    <div class="dapp-clear-fix"></div>
                </div>
                <div class="row clear">
                    <div class="col col-6 mobile-full">
                        <h4>License</h4>
                        <select name="issuance" title="License to reclaim">
                            {{#each issuances}}
                                {{> reclaimIssuanceOption}}
                            {{/each}}
                        </select>
                        <div class="lob-error-message" data-for="issuance"></div>
                    </div>
                    <div class="col col-6 mobile-full">
                        <h4>Amount</h4>
                        <input name="amount" type="number" title="Number of licenses to transfer">
                        <div class="lob-error-message" data-for="amount"></div>
                    </div>
                    <div class="dapp-clear-fix"></div>
                </div>
                <hr>
                <div class="row clear">
                    <div class="col col-4 mobile-full">
                        <h4>Gas</h4>
                        {{> dapp_selectGasPrice gas=gasEstimate gasPrice=gasPrice unit="ether"}}
                    </div>
                    <div class="dapp-clear-fix"></div>
                </div>
                <hr>
                <button class="dapp-block-button" id="reclaim">
                    Reclaim
                </button>
            </form>
        </main>
    </div>
</template>

<template name="reclaimIssuanceOption">
    <option value="{{issuanceLocation}}" {{preselected}}>{{description}} – {{balance}} Licenses</option>
</template>

<template name="reclaimOriginOption">
    <option value="{{address}}">{{address}} – {{reclaimableBalance}} Licenses</option>
</template>