<template name="transfer">
    <div class="dapp-flex-content">
        <main class="dapp-content">
            <form id="form-transfer">
                <h1>
                    {{#if destroy}}
                        {{{_ "transfer.title.destroy"}}}
                    {{else if allowReclaim}}
                        {{{_ "transfer.title.transferAndAllowReclaim"}}}
                    {{else}}
                        {{{_ "transfer.title.transfer"}}}
                    {{/if}}
                </h1>
                <div class="row clear">
                    <div class="col col-6 mobile-full">
                        <h4>{{_ "transfer.input.from.title"}}</h4>
                        {{> dapp_selectAccount accounts=myAccounts class="sender" name="sender" value=from}}
                    </div>
                    <div class="col col-6 mobile-full">
                        {{#unless destroy}}
                            <h4>{{_ "transfer.input.to.title"}}</h4>
                            {{> dapp_addressInput placeholder="0x000000.." name="recipient"}}
                            <div class="lob-error-message" data-for="recipient"></div>
                        {{/unless}}
                    </div>
                    <div class="dapp-clear-fix"></div>
                </div>
                <div class="row clear">
                    <div class="col col-6 mobile-full">
                        <h4>{{_ "transfer.input.issuance.title"}}</h4>
                        <select name="issuance" title="{{_ "transfer.input.issuance.description"}}">
                            {{#each issuances}}
                                {{> issuanceOption}}
                            {{/each}}
                        </select>
                        <div class="lob-error-message" data-for="issuance"></div>
                    </div>
                    <div class="col col-6 mobile-full">
                        <h4>{{_ "transfer.input.amount.title"}}</h4>
                        <input name="amount" type="number" title="{{_ "transfer.input.amount.description"}}">
                        <div class="lob-error-message" data-for="amount"></div>
                    </div>
                    <div class="dapp-clear-fix"></div>
                </div>
                <div class="row clear">
                    <div class="col col-4 mobile-full">
                        <h4>{{_ "generic.input.gas.title"}}</h4>
                        {{> dapp_selectGasPrice gas=gasEstimate gasPrice=gasPrice unit="ether"}}
                    </div>
                    <div class="dapp-clear-fix"></div>
                </div>
                <hr>
                <button class="dapp-block-button" id="transfer">
                    {{#if destroy}}
                        {{_ "transfer.button.destroy"}}
                    {{else if allowReclaim}}
                        {{_ "transfer.button.transferAndAllowReclaim"}}
                    {{else}}
                        {{_ "transfer.button.transfer"}}
                    {{/if}}
                </button>
                {{#unless destroy}}{{#unless allowReclaim}}
                    <p>{{{_ "transfer.destroyLink"}}}</p>
                {{/unless}}{{/unless}}
            </form>
        </main>
    </div>
</template>

<template name="issuanceOption">
    <option value="{{issuanceID}}|{{licenseContract}}" {{preselected}}>{{description}} â€“ {{balance}} {{_ "generic.license" count=balance}}</option>
</template>