<template name="transfer">
    <div class="dapp-flex-content">
        <main class="dapp-content">
            <form id="form-transfer">
                <h1>
                    {{#if destroy}}
                        <strong>Destroy</strong> licenses
                    {{else if allowReclaim}}
                        <strong>Transfer</strong> licenses and allow <strong>reclaim</strong>
                    {{else}}
                        <strong>Transfer</strong> licenses
                    {{/if}}
                </h1>
                <div class="row clear">
                    <div class="col col-6 mobile-full">
                        <h4>From</h4>
                        {{> dapp_selectAccount accounts=myAccounts class="sender" name="sender" value=from}}
                    </div>
                    <div class="col col-6 mobile-full">
                        {{#unless destroy}}
                            <h4>To</h4>
                            {{> dapp_addressInput placeholder="0x000000.." name="recipient"}}
                            <div class="lob-error-message" data-for="recipient"></div>
                        {{/unless}}
                    </div>
                    <div class="dapp-clear-fix"></div>
                </div>
                <div class="row clear">
                    <div class="col col-6 mobile-full">
                        <h4>License</h4>
                        <select name="issuance" title="License to transfer">
                            {{#each issuances}}
                                {{> issuanceOption}}
                            {{/each}}
                        </select>
                        <div class="lob-error-message" data-for="issuance"></div>
                    </div>
                    <div class="col col-6 mobile-full">
                        <h4>Amount</h4>
                        <input name="amount" type="number" title="Number of licenses to transfer">
                        <div class="lob-error-message" data-for="amount"></div>
                    </div>
                    <div class="dapp-clear-fix"></div>
                </div>
                <div class="row clear">
                    <div class="col col-4 mobile-full">
                        <h4>Gas</h4>
                        {{> dapp_selectGasPrice gas=gasEstimate gasPrice=gasPrice unit="ether"}}
                    </div>
                    <div class="dapp-clear-fix"></div>
                </div>
                <hr>
                <button class="dapp-block-button" id="transfer">
                    {{#if destroy}}
                        Destroy
                    {{else if allowReclaim}}
                        Transfer and allow reclaim
                    {{else}}
                        Transfer
                    {{/if}}
                </button>
                {{#unless destroy}}{{#unless allowReclaim}}
                    <p>If you wish to destroy a license click <a href="/destroy">here</a>.</p>
                {{/unless}}{{/unless}}
            </form>
        </main>
    </div>
</template>

<template name="issuanceOption">
    <option value="{{issuanceID}}|{{licenseContract}}" {{preselected}}>{{description}} â€“ {{balance}} Licenses</option>
</template>